# üéØ Pratique Guid√©e 1: Calculatrice Burkinab√® - Fondations
**Module 1 - Session 5** | **Dur√©e: 25 minutes**

---

## üìã Objectifs de cette Pratique

- Cr√©er les fonctions de base d'une calculatrice
- Impl√©menter la validation des entr√©es utilisateur
- D√©velopper un menu interactif simple
- Tester chaque fonctionnalit√© au fur et √† mesure

---

## üßÆ Exercice 1: Fonctions de Calcul Basiques

### √âtape 1 - Op√©rations arithm√©tiques:
```julia
# Cr√©ation des fonctions de base
function additionner(a, b)
    return a + b
end

function soustraire(a, b)
    return a - b
end

function multiplier(a, b)
    return a * b
end

function diviser(a, b)
    if b == 0
        println("‚ùå Erreur: Division par z√©ro impossible!")
        return nothing
    end
    return a / b
end

# Tests rapides
println("Addition: 5 + 3 = $(additionner(5, 3))")
println("Soustraction: 10 - 4 = $(soustraire(10, 4))")
println("Multiplication: 7 √ó 6 = $(multiplier(7, 6))")
println("Division: 15 √∑ 3 = $(diviser(15, 3))")
println("Division par z√©ro: $(diviser(10, 0))")
```

### Challenge interactif:
> **√Ä vous:** "Ajoutez une fonction `calculer_puissance(base, exposant)` qui calcule base^exposant"

```julia
# Solution attendue:
function calculer_puissance(base, exposant)
    return base^exposant
end

println("Puissance: 2^8 = $(calculer_puissance(2, 8))")
```

---

## üí∞ Exercice 2: Fonctions Financi√®res Burkinab√®

### Calculs de pourcentages (taxes, remises):
```julia
# Fonction polyvalente pour pourcentages
function calculer_pourcentage(montant, pourcentage)
    """Calcule un pourcentage d'un montant"""
    return montant * pourcentage / 100
end

function ajouter_tva(montant_ht)
    """Ajoute la TVA de 18% au Burkina Faso"""
    tva = calculer_pourcentage(montant_ht, 18)
    montant_ttc = montant_ht + tva
    return montant_ttc, tva
end

function calculer_remise(prix_initial, pourcentage_remise)
    """Calcule le prix apr√®s remise"""
    remise = calculer_pourcentage(prix_initial, pourcentage_remise)
    prix_final = prix_initial - remise
    return prix_final, remise
end

# Tests avec des exemples r√©alistes
println("\n=== CALCULS FINANCIERS ===")
prix_telephone = 125000  # FCFA

# Calcul TVA
prix_ttc, tva = ajouter_tva(prix_telephone)
println("Prix HT: $prix_telephone FCFA")
println("TVA (18%): $tva FCFA") 
println("Prix TTC: $prix_ttc FCFA")

# Calcul remise
prix_reduit, remise = calculer_remise(prix_telephone, 15)
println("\nAvec remise de 15%:")
println("Remise: $remise FCFA")
println("Prix final: $prix_reduit FCFA")
```

### Application pratique:
```julia
# Calcul de marge b√©n√©ficiaire pour commer√ßants
function calculer_marge(prix_achat, prix_vente)
    """Calcule la marge et le pourcentage de profit"""
    marge = prix_vente - prix_achat
    pourcentage_marge = (marge / prix_achat) * 100
    return marge, pourcentage_marge
end

# Exemple: Vente de riz au march√©
prix_achat_riz = 300  # FCFA/kg
prix_vente_riz = 380  # FCFA/kg

marge, pourcentage = calculer_marge(prix_achat_riz, prix_vente_riz)
println("\nüìä ANALYSE DE MARGE - RIZ:")
println("Prix d'achat: $prix_achat_riz FCFA/kg")
println("Prix de vente: $prix_vente_riz FCFA/kg")
println("Marge unitaire: $marge FCFA/kg")
println("Pourcentage de marge: $(round(pourcentage, digits=1))%")
```

---

## üí± Exercice 3: Convertisseur de Devises

### Syst√®me de conversion FCFA:
```julia
# Base de donn√©es des taux de change
taux_change = Dict(
    "EUR" => 656.0,    # 1 EUR = 656 FCFA
    "USD" => 590.0,    # 1 USD = 590 FCFA  
    "GBP" => 750.0,    # 1 GBP = 750 FCFA
    "CHF" => 650.0,    # 1 CHF = 650 FCFA
    "CAD" => 435.0,    # 1 CAD = 435 FCFA
    "CNY" => 82.0      # 1 CNY = 82 FCFA
)

function fcfa_vers_devise(montant_fcfa, devise)
    """Convertit des FCFA vers une autre devise"""
    if !haskey(taux_change, devise)
        println("‚ùå Devise '$devise' non support√©e")
        println("Devises disponibles: $(keys(taux_change))")
        return nothing
    end
    
    montant_converti = montant_fcfa / taux_change[devise]
    return round(montant_converti, digits=2)
end

function devise_vers_fcfa(montant, devise)
    """Convertit une devise vers FCFA"""
    if !haskey(taux_change, devise)
        println("‚ùå Devise '$devise' non support√©e")
        return nothing
    end
    
    montant_fcfa = montant * taux_change[devise]
    return round(montant_fcfa, digits=2)
end

# Tests de conversion
println("\n=== CONVERTISSEUR DE DEVISES ===")
salaire_fcfa = 250000

println("Salaire: $salaire_fcfa FCFA √©quivaut √†:")
for devise in ["EUR", "USD", "GBP"]
    montant = fcfa_vers_devise(salaire_fcfa, devise)
    if montant !== nothing
        println("- $montant $devise")
    end
end

# Conversion inverse
println("\nConversion inverse:")
budget_eur = 500
equivalent_fcfa = devise_vers_fcfa(budget_eur, "EUR")
if equivalent_fcfa !== nothing
    println("$budget_eur EUR = $equivalent_fcfa FCFA")
end
```

---

## üñ•Ô∏è Exercice 4: Interface Utilisateur Simple

### Fonction de validation d'entr√©es:
```julia
function lire_nombre(message)
    """Lit un nombre avec validation"""
    while true
        print(message)
        try
            entree = readline()
            nombre = parse(Float64, entree)
            return nombre
        catch
            println("‚ùå Veuillez entrer un nombre valide.")
        end
    end
end

function lire_nombre_positif(message)
    """Lit un nombre positif avec validation"""
    while true
        nombre = lire_nombre(message)
        if nombre >= 0
            return nombre
        else
            println("‚ùå Le nombre doit √™tre positif.")
        end
    end
end

# Test de validation
println("\n=== TEST DE VALIDATION ===")
# age = lire_nombre_positif("Votre √¢ge: ")
# println("Vous avez $age ans.")
```

### Menu simple pour calculs:
```julia
function afficher_menu_calculs()
    println("\n" * "="^40)
    println("üßÆ CALCULATRICE - OP√âRATIONS DE BASE")
    println("="^40)
    println("1. Addition")
    println("2. Soustraction")
    println("3. Multiplication") 
    println("4. Division")
    println("5. Pourcentage")
    println("6. Conversion devise")
    println("7. Retour menu principal")
    println("="^40)
end

function menu_calculs_interactif()
    while true
        afficher_menu_calculs()
        choix = readline("Votre choix (1-7): ")
        
        if choix == "1"
            # Addition
            a = lire_nombre("Premier nombre: ")
            b = lire_nombre("Deuxi√®me nombre: ")
            resultat = additionner(a, b)
            println("‚úÖ $a + $b = $resultat")
            
        elseif choix == "2"
            # Soustraction
            a = lire_nombre("Premier nombre: ")
            b = lire_nombre("Deuxi√®me nombre: ")
            resultat = soustraire(a, b)
            println("‚úÖ $a - $b = $resultat")
            
        elseif choix == "3"
            # Multiplication
            a = lire_nombre("Premier nombre: ")
            b = lire_nombre("Deuxi√®me nombre: ")
            resultat = multiplier(a, b)
            println("‚úÖ $a √ó $b = $resultat")
            
        elseif choix == "4"
            # Division
            a = lire_nombre("Dividende: ")
            b = lire_nombre("Diviseur: ")
            resultat = diviser(a, b)
            if resultat !== nothing
                println("‚úÖ $a √∑ $b = $resultat")
            end
            
        elseif choix == "5"
            # Pourcentage
            montant = lire_nombre_positif("Montant: ")
            pourcentage = lire_nombre("Pourcentage: ")
            resultat = calculer_pourcentage(montant, pourcentage)
            println("‚úÖ $pourcentage% de $montant = $resultat")
            
        elseif choix == "6"
            # Conversion
            montant = lire_nombre_positif("Montant en FCFA: ")
            println("Devises: EUR, USD, GBP, CHF, CAD, CNY")
            devise = uppercase(strip(readline("Devise cible: ")))
            resultat = fcfa_vers_devise(montant, devise)
            if resultat !== nothing
                println("‚úÖ $montant FCFA = $resultat $devise")
            end
            
        elseif choix == "7"
            println("üëã Retour au menu principal...")
            break
            
        else
            println("‚ùå Choix invalide, essayez encore.")
        end
        
        println("\nAppuyez sur Entr√©e pour continuer...")
        readline()
    end
end

# Pour tester le menu (d√©commenter):
# menu_calculs_interactif()
```

---

## üìà Exercice 5: Historique des Calculs

### Syst√®me de sauvegarde simple:
```julia
# Variable globale pour l'historique
historique_calculs = []

function ajouter_historique(operation, resultat)
    """Ajoute une op√©ration √† l'historique"""
    timestamp = Dates.now()
    push!(historique_calculs, (timestamp, operation, resultat))
end

function afficher_historique()
    """Affiche l'historique des calculs"""
    println("\nüìú HISTORIQUE DES CALCULS")
    println("="^50)
    
    if isempty(historique_calculs)
        println("Aucun calcul effectu√© pour le moment.")
        return
    end
    
    for (i, (temps, operation, resultat)) in enumerate(historique_calculs)
        temps_format = Dates.format(temps, "dd/mm/yyyy HH:MM:SS")
        println("$i. [$temps_format] $operation = $resultat")
    end
end

function vider_historique()
    """Remet l'historique √† z√©ro"""
    global historique_calculs
    historique_calculs = []
    println("üóëÔ∏è Historique vid√©.")
end

# Version am√©lior√©e des fonctions avec historique
function additionner_avec_historique(a, b)
    resultat = additionner(a, b)
    operation = "$a + $b"
    ajouter_historique(operation, resultat)
    return resultat
end

# Tests
println("\n=== TEST HISTORIQUE ===")
ajouter_historique("5 + 3", 8)
ajouter_historique("10 √ó 7", 70)
ajouter_historique("100 √∑ 4", 25)

afficher_historique()
```

---

## üéØ Challenge Final: Mini-Calculatrice Compl√®te

### Int√©gration de toutes les fonctionnalit√©s:
```julia
function calculatrice_burkinabe_v1()
    """Version 1 de la calculatrice burkinab√®"""
    
    println("""
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë      üßÆ CALCULATRICE BURKINAB√à v1.0      ‚ïë
    ‚ïë                                          ‚ïë
    ‚ïë   Votre assistant de calculs quotidiens  ‚ïë
    ‚ïë         Adapt√© au contexte local         ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    """)
    
    while true
        println("\n" * "="^45)
        println("üì± MENU PRINCIPAL")
        println("="^45)
        println("1. üßÆ Calculs de base")
        println("2. üí∞ Calculs financiers")
        println("3. üí± Conversion devises")
        println("4. üìú Voir historique")
        println("5. üóëÔ∏è Vider historique")
        println("6. üö™ Quitter")
        println("="^45)
        
        choix = readline("Votre choix: ")
        
        if choix == "1"
            menu_calculs_interactif()
        elseif choix == "2"
            menu_financiers()  # √Ä impl√©menter
        elseif choix == "3"
            menu_conversions()  # √Ä impl√©menter
        elseif choix == "4"
            afficher_historique()
        elseif choix == "5"
            vider_historique()
        elseif choix == "6"
            println("üëã Merci d'avoir utilis√© la Calculatrice Burkinab√®!")
            println("üáßüá´ √Ä bient√¥t!")
            break
        else
            println("‚ùå Choix invalide. Essayez √† nouveau.")
        end
        
        if choix in ["4", "5"]
            println("\nAppuyez sur Entr√©e pour continuer...")
            readline()
        end
    end
end

# Pour lancer la calculatrice:
# calculatrice_burkinabe_v1()
```

---

## ‚úÖ R√©capitulatif de la Pratique

### Ce que nous avons cr√©√©:
- ‚úÖ **Fonctions arithm√©tiques** avec gestion d'erreurs
- ‚úÖ **Calculs financiers** adapt√©s au contexte burkinab√®
- ‚úÖ **Convertisseur de devises** avec base FCFA
- ‚úÖ **Interface utilisateur** avec validation
- ‚úÖ **Syst√®me d'historique** pour tra√ßabilit√©

### Comp√©tences d√©velopp√©es:
- ‚úÖ **Architecture modulaire** - S√©paration des responsabilit√©s
- ‚úÖ **Gestion d'erreurs** - Validation et messages informatifs
- ‚úÖ **Interface utilisateur** - Menus et interactions
- ‚úÖ **Structures de donn√©es** - Dictionnaires et tableaux
- ‚úÖ **Int√©gration** - Combinaison de toutes les fonctionnalit√©s

### Fonctionnalit√©s manquantes (√† d√©velopper):
- üìã Menu financiers complet
- üìã Menu conversions d√©taill√©  
- üìã Sauvegarde sur fichier
- üìã Calculs scientifiques
- üìã Interface graphique

**Prochaine √©tape:** "Maintenant, cr√©ons un jeu de combat traditionnel pour appliquer nos comp√©tences en programmation interactive!"